(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{65:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(18),o=n.n(a),i=n(9),r=n.n(i),c=n(1),s=n.n(c),u=n(2),f=n(19),l=n(11),d=n(37),b=n(47),m=n(44),v=n(45),p=n(67),g=n(43);function h(){var e=Object(c.useState)(null),t=r()(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),h=r()(i,2),E=h[0],w=h[1],y=Object(c.useState)(!1),O=r()(y,2),j=O[0],x=O[1],S=Object(c.useState)(""),N=r()(S,2),k=N[0],C=N[1],I=Object(c.useState)(""),T=r()(I,2),F=T[0],L=T[1],W=Object(c.useState)(""),D=r()(W,2),J=D[0],P=D[1],z=Object(c.useState)(0),B=r()(z,2),M=B[0],R=B[1],U=Object(c.useState)("#fff"),_=r()(U,2),q=_[0],A=_[1],H=Object(c.useState)(null),V=r()(H,2),G=V[0],K=V[1],Q=Object(c.useState)(!1),X=r()(Q,2),Y=X[0],Z=X[1];Object(c.useEffect)((function(){if(E&&n){var e=n.focus().subscribe((function(e){R(Number(e.probability.toFixed(2)))}));return function(){e.unsubscribe()}}}),[E,n]),Object(c.useEffect)((function(){!function(){var e;o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(m.a.getItem("deviceId"));case 2:(e=t.sent)&&C(e);case 4:case"end":return t.stop()}}))}(),"web"===p.a.OS&&ee()}),[]),Object(c.useEffect)((function(){if(k){var e=new g.Notion({deviceId:k});a(e)}else x(!1)}),[k]);var $=function(){w(!0),K(setInterval((function(){R(Math.random())}),1e3))};Object(c.useEffect)((function(){if(n){var e=n.onAuthStateChanged().subscribe((function(e){e&&w(e),x(!1)}));return function(){e.unsubscribe()}}}),[n]),Object(c.useEffect)((function(){!E&&n&&F&&J&&function(){var e;o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(n.login({email:F,password:J}).catch((function(e){console.log(e)})));case 2:(e=t.sent)&&w(e.user);case 4:case"end":return t.stop()}}))}()}),[F,n]),Object(c.useEffect)((function(){E&&(M<.2?(A("red"),v.a.vibrate(1e4),Y&&new Notification("Stay focused!")):(A("#fff"),v.a.cancel()))}),[M,E]);var ee=function(){"Notification"in window&&("granted"===Notification.permission?Z(!0):"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){Z("granted"===e)})))},te=u.a.create({container:{flex:1,backgroundColor:q,alignItems:"center",justifyContent:"center"},heading:{fontSize:24,marginBottom:16},input:{height:40,width:"100%",maxWidth:260,borderColor:"gray",borderWidth:1,marginVertical:8,paddingHorizontal:4},focusText:{fontSize:18,marginBottom:8}});return j?s.a.createElement(l.a,{style:te.container},s.a.createElement(f.a,null,"Loading")):s.a.createElement(l.a,{style:te.container},E?s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{style:te.heading},"Notion Linked!"),s.a.createElement(f.a,{style:te.focusText},"Focus: "+(100*M).toFixed(0)+"%"),s.a.createElement(b.a,{title:"Logout",onPress:function(){return n.logout(),w(null),clearInterval(G),R(0),void A("#fff")}})):s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{style:te.heading},"Link your Notion"),s.a.createElement(d.a,{style:te.input,onChangeText:function(e){return C(e)},value:k,placeholder:"Device ID"}),s.a.createElement(d.a,{style:te.input,onChangeText:function(e){return L(e)},value:F,placeholder:"Email"}),s.a.createElement(d.a,{style:te.input,onChangeText:function(e){return P(e)},value:J,placeholder:"Password",textContentType:"password",autoCompleteType:"password",secureTextEntry:!0}),s.a.createElement(b.a,{title:"Submit",onPress:function(){return function(){"test"===k&&$(),m.a.setItem("deviceId",k);var e=new g.Notion({deviceId:k});a(e)}()},accessibilityLabel:"Submit"})))}},74:function(e,t,n){n(75),e.exports=n(105)},75:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/JesseRWeigel/stay-focused/expo-service-worker.js",{scope:"/JesseRWeigel/stay-focused/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},96:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=96}},[[74,1,2]]]);
//# sourceMappingURL=app.c5b152b9.chunk.js.map